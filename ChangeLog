2005-02-02  Albert Chu  <chu11@llnl.gov>

	* cerebro.spec.in: Fix rpm build problem.
	
2005-02-01  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_config.h, src/cerebrod/cerebrod_config.c:
	Support listen_on_network_interface configuration and
	configuration calculation.  Fix configuration check corner cases.

	* src/cerebrod/cerebrod_listener.c: Continue work on listener.
	
2005-01-31  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_config.h, src/cerebrod/cerebrod_config.c,
	src/cerebrod/cerebrod_speaker.c: Globally renamed speak_to_ip and
	speak_to_port to heartbeat_destination_ip and
	heartbeat_destination_port.  Removed listen_port configuration.
	Globally renamed speak_from_port to heartbeat_source_port.

	* src/cerebrod/cerebrod_config.h, src/cerebrod/cerebrod_config.c:
	Begin listen_on_network_interface configuration option addition.
	
2005-01-23  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_listener.c: Begin work on cerebrod_listener

	* src/cerebrod/wrappers.h, src/cerebrod/wrappers.c (List_create,
	wrap_list_create, Hash_create, wrap_hash_create): New macros and
	functions.

	* src/cerebrod/cerebrod_config.h, src/cerebrod/cerebrod_config.c
	(_cerebrod_config_default, _cerebrod_config_parse),
	src/cerebrod/cerebrod_speaker.c
	(_cerebrod_speaker_create_and_setup_socket): Add and use
	speak_to_port configuration option.
	
2005-01-22  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_speaker.c (cerebrod_speaker): Fix corner
	case for errno survival on writes and sleep_time.  Cleaned up
	code.

	* src/cerebrod/cerebrod_speaker.c
	(_cerebrod_speaker_create_and_setup_socket): Fix errno check
	corner case.

	* src/libcommon/hash.h, src/libcommon/hash.c,
	src/libcommon/list.h, src/libcommon/list.c,
	src/libcommon/thread.h, src/libcommon/thread.c: New files.

	* src/libcommon/Makefile.am: Update for new files.

	* src/cerebrod/cerebrod_listener.h,
	src/cerebrod/cerebrod_listener.c: New files.

	* src/cerebrod/Makefile.am: Update for new files.

2005-01-16  Albert Chu  <chu11@llnl.gov>
	
	* src/cerebrod/cerebrod_config.h, src/cerebrod/cerebrod_config.c
	(_cerebrod_config_default, _cerebrod_config_parse,
	_cerebrod_config_check), src/cerebrod_speaker.c
	(_cerebrod_speaker_create_and_setup_socket): Support ttl
	configuration option.
	
2005-01-15  Albert Chu  <chu11@llnl.gov>

	Add initial pthread support.

	* src/libcommon/wrappers.h, src/libcommon/wrappers.c
	(Pthread_create, Pthread_attr_init, Pthread_attr_destroy,
	Pthread_attr_setdetachstate, Pthread_mutex_lock,
	Pthread_mutex_trylock, Pthread_mutex_unlock, wrap_pthread_create,
	wrap_pthread_attr_init, wrap_pthread_attr_destroy,
	wrap_pthread_attr_setdetachstate, wrap_pthread_mutex_lock,
	wrap_pthread_mutex_trylock, wrap_pthread_mutex_unlock): New macros
	and functions.
	
	* src/cerebrod/cerebrod_daemon.h, src/cerebrod/cerebrod_daemon.c
	(cerebrod_daemon_init): Removed openlog call and progname parameter.

	* src/cerebrod/cerebrod.c (main): Fix error flags and call
	cerebrod_daemon_init to daemonize.  Pthread speaker.

	* src/cerebrod/cerebrod_speaker.h, src/cerebrod/cerebrod_speaker.c
	(cerebrod_speaker): Fix prototype to remove warnings.  Add code to
	survive various error conditions.

	* src/cerebrod/cerebrod_heartbeat.c (cerebrod_heartbeat_marshall):
	Change if statement check to assert.
	
	* src/cerebrod/cerebrod_heartbeat.c (cerebrod_heartbeat_unmarshall):
	Return -1 on errors instead of exitting.

	* src/cerebrod/cerebrod_speaker.c
	(_cerebrod_speaker_send_heartbeat): removed function.

	* src/cerebrod/cerebrod_speaker.c
	(_cerebrod_speaker_create_and_setup_socket): Fixed to aid in
	survival of error conditions.

	* src/cerebrod/cerebrod.c, src/cerebrod/cerebrod_heartbeat.c
	(cerebrod_heartbeat_dump), src/cerebrod/cerebrod_speaker.c
	(_cerebrod_speaker_dump_heartbeat): Added mutex locking for debug
	output.
	
	* configure.ac: Fix pthread building problem.
	
2005-01-09  Albert Chu  <chu11@llnl.gov>

	* src/libcommon/wrappers.h, src/libcommon/wrappers.c (Connect,
	wrap_connect): New macro and function.

	* src/cerebrod/cerebrod_config.h, src/cerebrod/cerebrod_config.c
	(_cerebrod_config_default, _cerebrod_config_parse): Add support
	for listen_port configuration option.

	* src/cerebrod/cerebrod_heartbeat.c (cerebrod_heartbeat_marshall):
	Fixed parameter check error.

	* src/cerebrod/cerebrod.c (main): Call cerebrod_speaker.  Fix some
	error output logic errors on debugging.

	* src/cerebrod/cerebrod_speaker.c
	(_cerebrod_speaker_create_and_setup_socket, cerebrod_speaker):
	Complete initial speaker code.
	
2005-01-05  Albert Chu  <chu11@llnl.gov>

	* cerebro.spec.in, Makefile.am: Fix to get initial rpm build to work.

2005-01-02  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod.h, src/cerebrod/cerebrod_speaker.h,
	src/cerebrod/cerebrod_speaker.c: New files.

	* src/cerebrod/cerebrod_config.c
	(_cerebrod_calculated_heartbeat_frequency_ranged): New function.

	* src/cerebrod/cerebrod_config.h, src/cerebrod/cerebrod_config.c
	(_cerebrod_config_parse, _cb_heartbeat_freq,
	_cerebrod_calculate_configuration): Support fixed frequency and
	ranged frequencies.

	* src/cerebrod/cerebrod_heartbeat.h,
	src/cerebrod/cerebrod_heartbeat.c (cerebrod_heartbeat_construct):
	New function.  Rename struct cerebrod_heartbeat_t to struct
	cerebrod_heartbeat.

	* src/libcommon/wrappers.h, src/libcommon/wrappers.c
	(Bind, wrap_bind): New macros and functions.

2005-01-01  Albert Chu  <chu11@llnl.gov>

	* configure.ac: Updated with threads and lsd defines.

	* config/acx_pthread.m4: New file.

	* src/cerebrod/cerebrod_heartbeat.h: Include new file.
	
	* src/cerebrod/cerebrod_boottime.h,
	src/cerebrod/cerebrod_boottime.c: Renamed to cerebrod_cache.h and
	cerebrod_cache.c.

	* src/cerebrod/cerebrod_cache.h, src/cerebrod/cerebrod_cache.c
	(cerebrod_get_starttime, cerebrod_cache_starttime,
	cerebrod_cache_boottime, cerebrod_cache_hostname,
	cerebrod_get_hostname): New functions.

	* src/cerebrod/cerebrod_heartbeat.h: Add program starttime to
	heartbeat.

	* src/cerebrod/cerebrod_heartbeat.c (cerebrod_heartbeat_marshall,
	cerebrod_heartbeat_unmarshall): Add starttime
	marshalling/unmarshalling.

	* src/cerebrod/cerebrod_config.h, src/cerebrod/cerebrod_config.c
	(cerebrod_config): New function.

	* src/cerebrod/cerebrod_config.h, src/cerebrod/cerebrod_config.c
	(cerebrod_config_default, cerebrod_cmdline_parse,
	cerebrod_config_parse, cerebrod_calculate_configuration): Made
	static and renamed to _cerebrod_config_default,
	_cerebrod_cmdline_parse, _cerebrod_config_parse,
	_cerebrod_calculate_configuration respectively.

	* src/cerebrod_config.c (_cerebrod_config_dump): New function.

	* src/cerebrod/Makefile.am: Update appropriately.
	
	* src/libcommon/wrappers.h, src/libcommon/wrappers.c
	(Gettimeofday, wrap_gettimeofday, Inet_pton, wrap_inet_pton, Time,
	wrap_time): New macros and functions.

2004-12-31  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_config.h, src/cerebrod/cerebrod_config.c:
	Modified to support singlecast as well as multicast configuration.
	Added configuration file checks and singlecast vs. multicast
	configuration detection.

	* src/libcommon/wrappers.c: Added asserts.
	
2004-12-23  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_config.c, src/cerebrod/cerebrod_daemon.c,
	src/cerebrod/cerebrod/heartbeat.c: Added asserts.
	
2004-11-16  Albert Chu  <chu11@llnl.gov>

	* Initial commit.
