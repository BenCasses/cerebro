2005-07-22  Albert Chu  <chu11@llnl.gov>

	* man/cerebro.1.in: Removed.

	* Added all GPL stuff.

2005-07-21  Albert Chu  <chu11@llnl.gov>

	* Fix various metric controller bugs.

	* Complete cerebro-admin.

	* Alter metric period logic and metric module period retrieval.

	* Added ability for metric modules to inform the cerebrod daemon
	of a metric update.

	* cerebro.spec.in: Tweak default permissions.
	
2005-07-20  Albert Chu  <chu11@llnl.gov>

	* Added metric_util lib to clean up code and fix corner cases.

	* Began cerebro-admin.

2005-07-18  Albert Chu  <chu11@llnl.gov>

	* Added additional protocol corner case checks.

	* Fixed string length == 0 corner case problem.

	* Cleaned up some autoconf macros.

	* Added and use configurable SLURM_STATE_CONTROL_PATH.

	* Autoconfed CEREBRO_METRIC_CONTROL_PATH

	* Add metric controller API manpages.

	* Fixed metric max corner case bug.

2005-07-15  Albert Chu  <chu11@llnl.gov>

	* Fixed metric controller bugs.

	* Fixed null packet string bugs.

	* Added metric restart capability.
	
2005-07-12  Albert Chu  <chu11@llnl.gov>

	* Finished initial work on cerebrod metric controller.

	* Added libcerebro metric control API.
	
2005-07-11  Albert Chu  <chu11@llnl.gov>

	* Cleanup cerebrod_speaker_data.[ch] in preparation for metric
	control code.

	* Begin development of metric controller.

	* Fixed potential fd leak in socket reinitialization routines.

	* Fix some buffer overflow bugs.
	
2005-07-08  Albert Chu  <chu11@llnl.gov>

	* Re-named 'metric_protocol' to 'metric_server_protocol' globally
	in preparation of new features being added in.

	* tagged pre-metric-server-protocol-rework-1

	* re-worked cerebrod for metric server protocol change

	* tagged pre-metric-server-protocol-rework-1-a

	* re-worked cerebro lib for metric server protocol change

	* tagged post-metric-server-protocol-rework-1

	* tagged pre-metric-control-protocol-1

	* src/libs/include/cerebro/cerebro_metric_control_protocol.h: New
	file.
	
2005-07-07  Albert Chu  <chu11@llnl.gov>

	* Completed cerebro-stat tool.

	* Added hostlist wrappers.

	* Added cerebro-stat manpage.

	* cerebro.spec.in: Updated.

	* Fix pthread creation bugs.

	* tagged cerebro-1-0-0-pre4
	
2005-07-06  Albert Chu  <chu11@llnl.gov>

	* Continue work on cerebro-stat tool.

	* Fix pthread stack size bug.

	* Fix metric server double hostname return bug.
	
2005-07-05  Albert Chu  <chu11@llnl.gov>

	* Begin work on cerebro-stat tool.

	* Various bug fixes.
	
2005-07-02  Albert Chu  <chu11@llnl.gov>

	* More code cleanup.
	
2005-07-01  Albert Chu  <chu11@llnl.gov>

	* Fix various mem-leaks and bugs.

	* Massive code cleanup.
	
2005-06-29  Albert Chu  <chu11@llnl.gov>

	* Fix remaining version checking bugs.

	* Fix maximum packet length buffer bugs.

	* Sort metric modules based on next call time for faster on
 	average searches.

	* Added network util functions for common network code.

	* Fix assert/wrappers code.

	* Errnum support in util lib.
	
2005-06-28  Albert Chu  <chu11@llnl.gov>

	* Continued bug fixes and code cleanup.

	* Updated manpages.

	* Performance improvement through use of index instead of list for
	metric names.

	* Fix protocol version checking bugs.
	
2005-06-27  Albert Chu  <chu11@llnl.gov>

	* Re-work cerebrod and libcerebro to use debug lib.

	* Various bug fixes and code enhancement..
	
2005-06-26  Albert Chu  <chu11@llnl.gov>

	* Re-work modules lib and util lib to use debug library.

	* Re-work modules to use debug library.

	* cerebro.spec.in: Support debug build.
	
2005-06-24  Albert Chu  <chu11@llnl.gov>

	* Continued worked on metric_names metric.

	* tagged post-metric-names-metric-1

	* Various code cleanup and corner case fixing.

	* Added debug library.
	
2005-06-23  Albert Chu  <chu11@llnl.gov>

	* Fixed slurm_state metric bugs.

	* cerebro.spec.in: Updated for slurm_state metric.

	* Various minor bug fixes.

	* tagged pre-metric-names-metric-1

	* Begin work to support metric_names metric

	* Begin work on metriclist API.
	
2005-06-22  Albert Chu  <chu11@llnl.gov>

	* Removed raw data metric.

	* Various cleanup.

	* tagged pre-metric-thread-1

	* Added metric thread support.

	* Added slurm_state metric module.

2005-06-21  Albert Chu  <chu11@llnl.gov>

	* Begin work on speaker scheduler.

	* Various minor fixes.

	* tagged pre-speaker-data-integration-1

	* integrate speakder-data
	
	* tagged post-speaker-data-integration-1

	* Split off wrappers off into a library.
	
2005-06-20  Albert Chu  <chu11@llnl.gov>

	* Split off cerebro utility functions and created libutil
	convenience library.

	* Documentation update.

	* Various code cleanup.
	
	* tagged cerebro-1-0-0-pre3

2005-06-18  Albert Chu  <chu11@llnl.gov>

	* Various minor fixes.

	* Split off libcerebro modules library into libmodules.
	
2005-06-17  Albert Chu  <chu11@llnl.gov>

	* Minor cleanup.

	* Significant libcerebro code cleanup, module library code split
	up.

	* tagged pre-library-reorg-1

 	* Library reorganization.

	* New libcerebro_error library.
	
2005-06-16  Albert Chu  <chu11@llnl.gov>

	* Fixed up locking issues.

	* Marshall library cleanup.

	* Error library cleanup.

	* Various bug fixing

	* tagged pre-static-compilation-remove-1

	* Removed everything related to static compilation.

	* tagged post-static-compilation-remove-1

	* Various calculation tweaks and bug fixes.

	* Monitor module tweaking.

	* cerebrod speaker logic fixing.

	* Metric module tweaking.
	
2005-06-15  Albert Chu  <chu11@llnl.gov>

	* Fixed static compilation bugs.

	* Remove hostlist files.

	* New libmarshall library.  Rework libcerebro and cerebrod around
	new lib.

	* Various cleanup fixes.

	* Implemented and use new marshall wrapper functions.
	
2005-06-14  Albert Chu  <chu11@llnl.gov>

	* Added finishing touches to monitor support in cerebrod.

	* Bug fixes to get bootlog monitoring to work.

	* cerebro.spec.in, Makefile, autoconf: Varoius updates for new
	appropriate packages and builds.
	
2005-06-13  Albert Chu  <chu11@llnl.gov>

	* Rename monitor module metric module in preparation for changes.

	* tagged pre-monitor-module-2

	* Added monitor module support.

	* Added bootlog monitor module.

	* Added monitor module support to libcerebro.

	* Begin adding monitor support in cerebrod.
	
2005-06-10  Albert Chu  <chu11@llnl.gov>

	* Various code cleanup.

2005-06-09  Albert Chu  <chu11@llnl.gov>

	* Added support for CEREBRO_METRIC_FLAGS_NONE_IF_DOWN flag.

	* tagged pre-monitor-module-1

	* Various code cleanup
	
	* Added new monitoring modules support.

	* Added boottime monitor module.

	* Added monitor module support to libcerebro.

	* Use boottime module rather than hardcoded boottime in cerebrod.

2005-06-08  Albert Chu  <chu11@llnl.gov>

	* Add support for RAW datatype.

	* Documented and made metric defaults available via cerebro.h.

	* Various documentation fixes, bug fixes, and code cleanup.
	
	* tagged pre-libcerebro-module-rework-2

	* Re-worked module library in libcerebro in anticipation of
	monitoring modules.

2005-06-07  Albert Chu  <chu11@llnl.gov>

	* Removed hard defined maximum metric count.  Added
	cerebrod_metric_max configuration option.

	* Removed hard defined packet buffer for situations where the
	received/sent packet size is not known.

	* Added get configuration routines to libcerebro.

	* Documented and made flags and value types available via
	cerebro.h.
	
	* Various bug fixes.

	* Various code cleanup.

	* Various documentation cleanup/fixing.

2005-06-06  Albert Chu  <chu11@llnl.gov>

	* tagged pre-heartbeat-protocol-change-1

	* Removed starttime metric.

	* Reworked heartbeat protocol to use variable length data.

	* Reworked heartbeat protocol to use variable length metrics.

	* Reworked metric protocol to use variable length data.

	* Reworked libcerebro library around new protocol.
	
2005-06-03  Albert Chu  <chu11@llnl.gov>

	* Cleaned up module loading/unloading libcerebro library calls.
	Calls now allow multiple cerebro handles to safely load/unload
	modules.

	* tagged pre-libcerebro-metric-type-rework-1

	* Rework metric_type storage and retrieval 

	* Add various flags for metric data retrieval
	
2005-06-02  Albert Chu  <chu11@llnl.gov>

	* src/modules/cerebro_config_gendersllnl.c: Default 'hostnames' on
	compute nodes are the alternate nodenames, not primary nodenames.

	* src/cerebrod/cerebrod_node_data.c
	(_cerebrod_metric_name_list_dump): Fix output bug.

	* tagged pre-libcerebro-module-rework-1
	
2005-06-01  Albert Chu  <chu11@llnl.gov>

	* Various bug fixes and code cleanup.

	* Complete manpage cleanup.
	
	* tagged cerebro-1-0-0-pre2

2005-05-31  Albert Chu  <chu11@llnl.gov>
	
	* Completed Rework.

	* Begin cleaning up manpages.
	
2005-05-30  Albert Chu  <chu11@llnl.gov>
	
	* Continued rework.
	
2005-05-29  Albert Chu  <chu11@llnl.gov>

	* Continued rework.
	
2005-05-28  Albert Chu  <chu11@llnl.gov>

	* tagged pre-libcerebro-rework-1

	* begin libcerebro rework around metric server and metric data.

	* remove all updown server references

	* remove duplicate functions in libcerebro

	* remove unnecessary libcerebro functions

	* rework libcerebro nodelist api
	
2005-05-27  Albert Chu  <chu11@llnl.gov>

	* Continue work on metric server.

	* Bug fixes.
	
2005-05-26  Albert Chu  <chu11@llnl.gov>

	* Continue work on metric server.

	* Various bug fixes.

2005-05-25  Albert Chu  <chu11@llnl.gov>

	* Continue work on metric server.

	* Remove API functions obsoleted by nodelists.
	
2005-05-24  Albert Chu  <chu11@llnl.gov>

	* Minor cleanup and bug fixes.
	
2005-05-23  Albert Chu  <chu11@llnl.gov>

	* Re-org duplicate code into common code.

	* Begin re-org of library to use list interface.
	
2005-05-19  Albert Chu  <chu11@llnl.gov>

	* Rename status to metric due to design and goal differences from
	original ganglia implementation.

	* Rework of node data lists and hashes into one global node data
	list and hash.

	* Added float and double marshalling/unmarshalling functions.

2005-05-18  Albert Chu  <chu11@llnl.gov>

	* Complete status listener.
	
2005-05-17  Albert Chu  <chu11@llnl.gov>

	* Removed unused error codes.

	* Begin status server work.
	
2005-05-17  Albert Chu  <chu11@llnl.gov>

	* cerebro.spec.in: Update chaos build.
	
	* tagged cerebro-1-0-0-pre1
	
2005-05-16  Albert Chu  <chu11@llnl.gov>

	* Typo fixes.

	* Fix libdir path calculation.
	
2005-05-15  Albert Chu  <chu11@llnl.gov>

	* Slight library function names re-wording.
	
2005-05-11  Albert Chu  <chu11@llnl.gov>

	* Hide remaining functions that shouldn't be exported by
	libcerebro, or hide through not distributing .h file and
	underscoring them.

	* Added nodes iterator interface to libcerebro.

2005-05-10  Albert Chu  <chu11@llnl.gov>

	* More manpage cleanup/fixes.

	* Small design cleanup/changes.

	* cerebro.spec.in: Add daemon start/stop installation routines.
	
2005-05-09  Albert Chu  <chu11@llnl.gov>

	* Hide functions that shouldn't be exported.

	* New CEREBRO_DEBUG definition.  Rework code to use instead of
	NDEBUG.

2005-05-08  Albert Chu  <chu11@llnl.gov>

	* More manpage additions.
	
2005-05-06  Albert Chu  <chu11@llnl.gov>

	* Minor bug fixes.
	
2005-05-05  Albert Chu  <chu11@llnl.gov>

	* Re-org libcerebro include headers.

	* Various bug fixes.

	* Continue addition of manpages.
	
2005-05-04  Albert Chu  <chu11@llnl.gov>

	* Major code cleanup in preparation for beta release.

	* Rework so libcerebro doesn't export pthread functions.

	* Begin writing manpages.
	
2005-05-03  Albert Chu  <chu11@llnl.gov>

	* Rework config file and config module into one load_config
	libcerebro call.  Rework libcerebro and cerebrod around this new
	API.

	* Various library cleanup.  Function renaming, err_debug_lib,
	error debug output cleanup and additions.

	* Various module cleanup.  Use cerebro_err_debug_module function
	instead of cerebro_err_debug.
	
2005-05-02  Albert Chu  <chu11@llnl.gov>

	* Add config file funcs into libcerebro.

	* Work config file loading/unloading into libcerebro updown library.
	
	* Work config file funcs in cerebrod.

	* Renamed cerebrod.conf.5.in to cerebro.conf.5.in.  Re-work for
	new configuration options and generalize for all of cerebro.

	* Manpage cleanup.
	
2005-05-01  Albert Chu  <chu11@llnl.gov>

	* Rework cerebro lib and cerebrod daemon to use default module so
	that binaries do not need to be aware of whether a module is
	loaded or not.
	
2005-04-30  Albert Chu  <chu11@llnl.gov>

	* Removed none module.

	* Reworked cerebro lib and cerebrod daemon to assume none module
	behavior when a clusterlist module is not loaded.

	* Remove clusterlist and config configuration command line options
	and configuration file options.  Now modules are searched for and
	that's it.

	* Make hostsfile module configurable at compile time.
	
2005-04-29  Albert Chu  <chu11@llnl.gov>

	* Added parse_options function to config modules.

	* Create new libmodule for common parse_options code between
	  clusterlist and config modules.

	* Putting module search and loading into libcerebro.

	* Rework cerebrod to use new libcerebro module functions.

	* Remove -c and -m options from cerebrod in non-debug mode.

	* Support clusterlist modules in libcerebro updown library.

	* Fixed various bugs.
	
2005-04-28  Albert Chu  <chu11@llnl.gov>

	* Re-worked packet unmarshalling logic.

	* Fixed updown server to handle more error conditions.

	* Allow updown server to return invalid packet format error code.

	* Shorten hostnames in hostsfile clusterlist module.

	* src/cerebrod/cerebrod_updown.c
	(_cerebrod_updown_create_and_setup_socket): Turn on SO_REUSEADDR
	for server debugging.

	* Finished first round of libcerebro updown API.

	* Put all lib functions under just cerebro.h.

2005-04-27  Albert Chu  <chu11@llnl.gov>

	* Re-worked modules to not exit on errors, error handling is now
	the reponsibility of the caller.

	* Re-worked cerebrod daemon around above changes.
	
2005-04-26  Albert Chu  <chu11@llnl.gov>

	* Continued libcerebro updown library work.

	* Fixed packet unmarshalling bugs in cerebrod.

	* Fixed various corner case bugs in cerebrod server.
	
2005-04-25  Albert Chu  <chu11@llnl.gov>

	* Added support to search for arbitrary modules rather than only
	those defined.

	* Various build fixes.

	* Continued code cleanup and minor bug fixing.

	* Begin work on cerebro updown API.
	
2005-04-22  Albert Chu  <chu11@llnl.gov>

	* src/libcerebro/cerebrod_config_module.h: Renamed to
	cerebro_config_module.h.  All variable names changed/adjusted
	appropriately.

	* Reworked cerebrod based on variable name changes and header file
	renaming.

	* Various re-work, slight design changes, and code cleanup to
	prepare for libcerebro updown library.

	* cerebro.spec.in: Updated for builds.

	* Fixed distcheck errors throughout.
	
2005-04-21  Albert Chu  <chu11@llnl.gov>

	* src/libcerebro/cerebro_error.h, src/libcerebro/cerebro_error.c:
	New files.

	* src/cerebrod/cerebrod_error.h, src/cerebrod/cerebrod_error.c:
	Removed files.
	
	Reworked error output based on new cerebro_error library API.

	Code cleanup throughout.

	Added mapping to cerebrod and modules.
	
2005-04-20  Albert Chu  <chu11@llnl.gov>

	Partitioned clusterlist and config modules into separate dir.
	Major Changes throughout.
	
2005-04-20  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_clusterlist_gendersllnl.c
	(gendersllnl_clusterlist_init): Added genders indexing.

	* config/ac_gendersllnl.m4: Check for genders indexing.

	* src/libcommon/Makefile.am: Put libwrappers and libcommon back
	into just libcommon.

	* src/cerebrod/Makefile.am,
	src/cerebrod/cerebrod_clusterlist_gendersllnl.c,
	src/cerebrod/cerebrod_clusterlist_genders.c,
	src/cerebrod/cerebrod_clusterlist_hostsfile.c,
	src/cerebrod/cerebrod_clusterlist_none.c,
	src/cerebrod/cerebrod_clusterlist_util.h,
	src/cerebrod/cerebrod_clusterlist_utilc,
	src/cerebrod/cerebrod_clusterlist_genders_util.h,
	src/cerebrod/cerebrod_clusterlist_genders_util.c: Remove symbols
	exporting, force all modules to hae the symbols they require.
	Made appropriate changes to support this.

2005-04-01  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_clusterlist_genders.c
	(genders_clusterlist_node_in_cluster),
	src/cerebrod/cerebrod_clusterlist_gendersllnl.c
	(gendersllnl_clusterlist_get_nodename,
	gendersllnl_clusterlist_node_in_cluster): Use buffer instead of
	strdup for shortening the nodename.
	
2005-03-31  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/Makefile.am: modulelib dir based on module dir
	determined in autoconf.
	
2005-03-30  Albert Chu  <chu11@llnl.gov>

	* Minor code cleanup throughout

	* src/cerebrod/cerebrod_updown.c (cerebrod_updown_update_data):
	Fix race condition.

	* configure.ac, src/libcerebro/Makefile.am: Add library
	versioning.

	* src/libcerebro/cerebro.map: New file.

	* src/libcerebro/Makefile.am: Add symbol export map.

	* Globally rename hostname to nodename.  Rename 'node' variables
	to 'nodename' variables.
	
2005-03-29  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_error.h, src/cerebrod/cerebrod_error.c
	(cerebrod_err_init, cerebrod_err_get_flags,
	cerebrod_err_set_flags, cerebrod_err_output, cerebrod_err_exit):
	New functions.

	* src/cerebrod/: Globally use new err functions appropriately and
	various code cleanup.
	
2005-03-29  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_config.c (cerebrod_config_cleanup): Fix
	static modules bug.

	* src/cerebrod/cerebrod_config.c (_cerebrod_config_parse): Minor
	debugging fix.
	
	* src/cerebrod/cerebrod_updown.c
	(_cerebrod_updown_send_node_responses): New function.
	
	* src/libcerebro/cerebro_updown_protocol.h,
	src/cerebrod/cerebrod_updown.c
	(_cerebrod_updown_request_marshall,
	_cerebrod_updown_evaluate_updown_state,
	_cerebrod_updown_respond_with_updown_nodes): Continued work to
	complete updown server functionality.

	* src/cerebrod/cerebrod_error.h, src/cerebrod/cerebrod_error.c:
	New files.

	* src/cerebrod/: Globally use cerebrod_err_debug instead of
	err_debug when appropriate.

	* src/libcommon/Makefile.am, src/cerebrod/Makefile.am: Split off
	libcommon libraries into libcommon and libwrappers.

	* src/cerebrod/cerebrod.c (main): Fix spinning loop issue.

	* src/libcerebro/cerebro_updown_protocol.h: Define default server port.

	* src/cerebrod/cerebrod_config.h: Use defined default server port.

	* src/cerebrod/cerebrod_speaker.c (_cerebrod_speaker_initialize):
	Improve initialization routine.

	* src/libcommon/wrappers.h, src/libcommon/wrappers.c: Add function
	name output to wrappers.
	
2005-03-28  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_updown.c
	(_cerebrod_updown_evaluate_updown_state): Continued work.
	
2005-03-27  Albert Chu  <chu11@llnl.gov>

	* src/libcerebro/cerebro_marshalling.h,
	src/libcerebro/cerebro_marshalling.c (cerebro_marshall_int8,
	cerebro_marshall_uint8, cerebro_unmarshall_int8,
	cerebro_unmarshall_uint8): New functions.

	* src/cerebrod/cerebrod_updown.c
	(_cerebrod_updown_evaluate_updown_state,
	_cerebrod_updown_respond_with_node,
	_cerebrod_updown_respond_with_updown_nodes,
	_cerebrod_updown_send_response): New functions.
	
2005-03-26  Albert Chu  <chu11@llnl.gov>

	* src/libcommon/wrappers.h, src/libcommon/wrappers.c (Listen,
	Accept, Select, Poll, wrap_listen, wrap_accept, wrap_select,
	wrap_poll): New macros and functions.

	* src/cerebrod/cerebrod_updown.c
	(_cerebrod_updown_respond_with_error,
	_cerebrod_updown_request_dump, _cerebrod_updown_receive_request,
	_cerebrod_updown_request_unmarshall,
	_cerebrod_updown_response_marshall): New functions.

	* src/cerebrod/cerebrod_updown.c
	(_cerebrod_updown_service_connection): Use new functions.
	
	* src/libcerebro/cerebrod_updown_protocol.h: Minor cleanup.

	* src/cerebrod/cerebrod_config.c (cerebrod_config_cleanup): Fix
	dl_handle bug.
	
2005-03-25  Albert Chu  <chu11@llnl.gov>

	* src/libcommon/wrappers.h, src/libcommon/wrappers.c
	(Gethostbyname, Inet_ntop, wrap_gethostbyname, wrap_inet_ntop):
	New macros and functions.

	* src/cerebrod/cerebrod_config_gendersllnl.c
	(gendersllnl_config_load_default): Add altname support.

	* src/cerebrod/cerebrod_config.h, src/cerebrod/cerebrod_config.c
	(cerebrod_config_cleanup): New function.

	* src/cerebrod/cerebrod_config.h, src/cerebrod/cerebrod_config.c
	(cerebrod_config): Rename to cerebrod_config_setup.

	* src/cerebrod/cerebrod.c (main): Update for function name change.

	* src/cerebrod/cerebrod_config.c (_config_load_dynamic_module,
	_cerebrod_config_module_setup): Remove calls to Lt_dlclose and
	Lt_dlexit, so config module is kept upon on exit.

	* src/libcerebro/cerebro_defs.h,
	src/libcerebro/cerebrod_heartbeat_protocol.h,
	src/libcerebro/cerebro_updown_protocol.h: New files.
	
	* src/cerebrod/: Re-work for new header files and variable renaming.

	* src/libcerebro/cerebro_marshalling.h,
	src/libcerebro/cerebro_marshalling.c: New files.

	* src/cerebrod/cerebrod_heartbeat.c: Re-worked for use of new library functions.

	* src/cerebrod/Makefile.am: Updated for new library.
	
2005-03-23  Albert Chu  <chu11@llnl.gov>

	Begin work on libcerebro

	* src/libcerebro/Makefile.am,
	src/libcerebro/cerebrod_config_module.h,
	src/libcerebro/cerebrod_clusterlist.h: New files.

	* configure.ac, src/Makefile.am: Updated for new files and directories.

	* src/libcommon/fd.c (fd_write_n): Remove warnings.

	* src/cerebrod/cerebrod_clusterlist.h: Remove useless headers.

	* src/cerebrod/cerebrod_clusterlist_utils.c: Fix header problems.

	* src/cerebrod/cerebrod_config.h,
	src/cerebrod/cerebrod_clusterlist.h: Removed definitions and
	declarations due to new ones in
	src/libcerebro/cerebrod_config_module.h and
	src/libcerebro/cerebrod_clusterlist.h.

	* src/cerebrod/cerebrod_config.c,
	src/cerebrod_config_gendersllnl.c
	src/cerebrod/cerebrod_clusterlist.c,
	src/cerebrod/cerebrod_clusterlist_none.c,
	src/cerebrod_clusterlist_hostsfile.c,
	src/cerebrod_clusterlist_genders.c,
	src/cerebrod_clusterlist_gendersllnl.c: Include new headers as
	needed.

	* src/cerebrod/cerebrod_config.c
	(_cerebrod_load_alternate_configuration): Reworked as needed for
	by new headers.

2005-03-22  Albert Chu  <chu11@llnl.gov>

	More code cleanup

	* src/cerebrod/cerebrod_static_modules.c,
	src/cerebrod/cerebrod_dynamic_modules.h,
	src/cerebrod/cerebrod_dynamic_modules.c: New files.

	* src/cerebrod/Makefile.am: Re-worked for new files appropriately.

	* src/cerebrod/cerebrod_config.c
	(_cerebrod_find_static_config_module,
	_cerebrod_find_static_clusterlist_module): Removed due to new
	common functions in src/cerebrod/cerebrod_static_modules.c.

	* src/cerebrod/cerebrod_config.c: Removed static_config_modules
	and config_modules arrays due to new ones stored in
	src/cerebrod/cerebrod_static_modules.c and
	src/cerebrod/cerebrod_dynamic_modules.c.

	* src/cerebrod/cerebrod_clusterlist.c: Removed
	static_clusterlist_modules and clusterlist_modules arrays due to
	new ones stored in src/cerebrod/cerebrod_static_modules.c and
	src/cerebrod/cerebrod_dynamic_modules.c.

	* src/cerebrod/cerebrod_util.h, src/cerebrod/cerebrod_util.c
	(cerebrod_search_dir_for_module): Moved into
	src/cerebrod/cerebrod_dynamic_modules.h and
	src/cerebrod/cerebrod_dynamic_modules.c.

	* src/cerebrod/cerebrod_config.c,
	src/cerebrod/cerebrod_clusterlist.c: Use common functions for
	effectively overall.  Fix for new variable and function names.

	* src/cerebrod/cerebrod_config.c (_cerebrod_cmdline_parse_check):
	Fix bug.

2005-03-21  Albert Chu  <chu11@llnl.gov>
	
	Static module compilation code cleanup

	* Globally remove config_type and clusterlist_type.  Everything
	will be referred to as modules, despite being compiled statically
	or not.

	* config/ac_static_modules.m4: Turn --with-static-modules to
	--enable-static-modules.

	* man/cerebrod.8.in, man/cerebrod.conf.5.in: Updated with static
	modules wording.

	* src/cerebrod/cerebrod_config.c (_cerebrod_find_static_module,
	_cerebrod_load_alternate_configuration,
	_cerebrod_find_static_clusterlist_module) New functions.

	* src/cerebrod/cerebrod_config.c (_config_load_static_modulem,
	_config_load_module, _cerebrod_cmdline_parse_check,
	_cerebrod_pre_calculate_configuration_config_check): Use new
	common functions.

	* src/cerebrod/cerebrod_config.c (_cerebrod_config_module_setup):
	Add null pointer check.

	* src/cerebrod/cerebrod_clusterlist.c
	(_clusterlist_check_module_data): New function.

	* src/cerebrod/cerebrod_clusterlist.c
	(_clusterlist_load_static_module, _clusterlist_load_module): Use
	new common functions.

2005-03-21  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_clusterlist.h: Modified
	Cerebrod_clusterlist_get_nodename prototype to take a unsigned int
	buflen instead of an int buflen.

	* src/cerebrod/cerebrod_clusterlist.c,
	src/cerebrod/cerebrod_clusterlist_none.c,
	src/cerebrod_clusterlist_hostsfile.c,
	src/cerebrod_clusterlist_genders.c,
	src/cerebrod_clusterlist_gendersllnl.c,
	src/cerebrod_clusterlist_util.h,
	src/cerebrod/cerebrod_clusterlist_util.c: Modified for changed
	parameter type.

	* src/: Added more commenting throughout and various code cleanup

	* src/cerebrod/cerebrod_clusterlist_hostsfile.c
	(_remove_comments): Fix loop bug.

	* config/ac_genders.m4, config/ac_gendersllnl.m4: Make genders and
	gendersllnl auto-configurable on or off.  Various cleanup.

	* configure.ac: Support cleanup.

	Support static module compilation

	* config/ac_static_modules.m4: New file.

	* configure.ac: Add static modules option.

	* src/cerebrod/cerebrod_config.h: Collapse struct
	cerebrod_config_module_ops into struct
	cerebrod_config_module_info.

	* src/cerebrod/cerebrod_config.c (_config_load_module),
	src/cerebrod/cerebrod_config_gendersllnl.c: Updated for structure
	changes.
	
	* src/cerebrod/cerebrod_clusterlist.h: Collapse struct
	cerebrod_clusterlist_module_ops into struct
	cerebrod_clusterlist_module_info.

	* src/cerebrod/cerebrod_clusterlist.c (_clusterlist_load_module),
	src/cerebrod_clusterlist_hostsfile.c,
	src/cerebrod_clusterlist_genders.c,
	src/cerebrod_clusterlist_gendersllnl.c,
	src/cerebrod_clusterlist_util.h: Updated for structure changes.

	* src/cerebrod/cerebrod_config.h: Add config_type and
	clusterlist_type and clusterlist_type_options to struct
	cerebrod_config.

	* src/cerebrod/cerebrod_config.c (_cerebrod_config_default):
	Initialize new variables appropriately.

	* src/cerebrod/cerebrod_config.c (_usage, _cerebrod_cmdline_parse,
	_cerebrod_cmdline_parse_check): Appropriately output, parse, and
	check new config_type option.

	* src/cerebrod/cerebrod_config.c (_config_load_static_module): New
	function.

	* src/cerebrod/cerebro_config.c (_cerebrod_config_module_setup):
	Call static or dynamic module loader appropriately.

	* src/cerebrod/cerebrod_config.c (_cb_module_options): Renamed
	_cb_options.

	* src/cerebrod/cerebrod_config.c (_cerebrod_config_parse): Parse
	clusterlist_type and clusterlist_type_options configuration
	options.

	* src/cerebrod/cerebrod_config.c
	(_cerebrod_calculate_clusterlist_module): Check static modules
	list appropriately.

	* src/cerebrod/cerebrod_clusterlist.c
	(_clusterlist_load_static_module): New function.

	* src/cerebrod/cerebrod_clusterlist.c
	(cerebrod_clusterlist_setup): Support static modules.

	* src/libcommon/Makefile.am, src/libcommon/wrappers.h,
	src/libcommon/wrappers.c: Don't compile ltdl when compiling
	statically.

	* src/cerebrod/cerebrod_clusterlist_genders.c,
	src/cerebrod/cerebrod_clusterlist_gendersllnl.c: Rename some
	globals to stop name clobbering on static builds.

	* src/cerebrod/cerebrod_static_modules.h: New file.
	
2005-03-20  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_config.c
	(_cerebrod_pre_calculate_configuration_config_check): Add port
	checks.

	* src/cerebrod/cerebrod_config.h: New default ports.

	* man/cerebrod.conf.5.in: Completed first draft.

	* src/cerebrod/cerebrod_config.c (_config_load_module),
	src/cerebrod/cerebrod_clusterlist.c (_clusterlist_load_module):
	Add additional module loading checks.

	* src/cerebrod/cerebrod_clusterlist.c
	(cerebrod_clusterlist_setup): Fix filename bug.

	* src/cerebrod/cerebrod_config.c (_cerebrod_config_module_setup,
	_cerebrod_cmdline_parse_check): Fix logic error in check/load
	routines.  Rename "configfile" and "configmodule" to "config_file"
	and "config_module" globally respectively.

	* src/cerebrod/cerebrod_config.c (_cerebrod_config_dump): Add
	forgotten field.

	* src/cerebrod/cerebrod_cache.h, src/cerebrod/cerebrod_cache.c:
	Renamed to cerebrod_system_data.h and cerebrod_system_data.c.  API
	modified appropriately and changed globally.

	* src/cerebrod/: Added significant commenting and documentation
	throughout code and various cleanup.

2005-03-19  Albert Chu  <chu11@llnl.gov>

	* Fixed variety of compiler warnings.

	* man/cerebro.1.in: New file.
	
	* configure.ac, man/Makefile.am: Updated for new manpages.

	* config/ac_cerebrod_configfile.m4: New file.

	* configure.ac: Add ac_cerebrod_configfile config option.

	* config/ac_hostsfile.m4: AC_SUBST the hostsfile.

	* config/ac_cerebrod_module_dir.m4: New file.

	* configure.ac, src/cerebrod/Makefile.am: CEREBROD_MODULE_DIR now
	defined by AC_CEREBROD_MODULE_DIR.

	* src/cerebrod/cerebrod_util.h, src/cerebrod/cerebrod_util.c
	(cerebrod_search_dir_for_module): Include modules list length.

	* src/cerebrod/cerebrod_config.c (_cerebrod_config_module_setup),
	src/cerebrod/cerebrod_clusterlist.c (cerebrod_clusterlist_setup):
	Support new cerebrod_search_dir_for_module interface.

	* man/cerebrod.8.in: Completed first draft.

	* config/ac_genders.m4, config/ac_gendersllnl.m4: Add manpage
	substitution flags.
	
2005-03-18  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_config.c (_cerebrod_config_module_setup,
	_find_config_module, _search_dir, _load_module): New functions.

	* src/cerebrod/cerebrod_config.c (cerebrod_config): Call
	_cerebrod_config_module_setup.

	* src/cerebrod/cerebrod_config_gendersllnl.c: New file.

	* src/cerebrod/Makefile.am: Adjusted for new module.

	* src/cerebrod/cerebrod_clusterlist_genders.c
	(genders_clusterlist_init),
	src/cerebrod/cerebrod_clusterlist_gendersllnl.c
	(gendersllnl_clusterlist_init): Fix argument param bug.

	* src/cerebrod/cerebrod_clusterlist.c
	(cerebrod_clusterlist_parse_options): Fix assertion bug.

	* src/cerebrod/cerebrod_config.c
	(_cerebrod_post_calculate_configuration_config_check),
	src/cerebrod/cerebrod.c (_cerebrod_post_config_initialization):
	Move option parsing from
	_cerebrod_post_calculate_configuration_config_ to
	_cerebrod_post_config_initialization.

	* src/cerebrod/cerebrod_config.c (_cerebrod_config_dump): Fix
	clusterlist_module_options output.

	* src/cerebrod/cerebrod_config.c (_cerebrod_cmdline_parse_check):
	New function.

	* src/cerebrod/cerebrod_config.c (cerebrod_config): Call
	_cerebrod_cmdline_parse_check.

	* src/cerebrod/cerebrod_util.h, src/cerebrod/cerebrod_util.c
	(cerebrod_search_dir_for_module): New function.

	* src/cerebrod/cerebrod_config.c (_find_config_module),
	src/cerebrod/cerebrod_clusterlist.c (_find_clusterlist_module):
	Removed functions.

	* src/cerebrod/cerebrod_config.c (_load_module),
	src/cerebrod/cerebrod_clusterlist.c (_load_module): Return 1 on
	sucess.

	* src/cerebrod/cerebrod_config.c (_cerebrod_config_module_setup),
	src/cerebrod/cerebrod_clusterlist.c (cerebrod_clusterlist_setup):
	Use new cerebrod_search_dir_for_module.

	* src/cerebrod/cerebrod_config.c (_load_module): Globally rename
	to _config_load_module.

	* src/cerebrod/cerebrod_clusterlist.c (_load_module): Globally
	rename to _clusterlist_load_module.

	* man/cerebrod.8.in, man/cerebrod/cerebrod.conf.5.in: New files.

	* configure.ac, man/Makefile.am: Updated for new manpages.

2005-03-17  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_clusterlist_genders.c
	(_parse_options),
	src/cerebrod/cerebrod_clusterlist_gendersllnl.c
	(_parse_options): Fix cut and paste typos.

	* src/cerebrod/cerebrod_clusterlist.c (_load_module, _search_dir):
	Fix logic errs in search paths.

	Re-architect option parsing logic.

	* src/cerebrod/cerebrod_clusterlist_util.h,
	src/cerebrod/cerebrod_clusterlist_util.c: New files.
	
	* src/cerebrod/cerebrod_clusterlist_hostsfile.c (_parse_options),
	src/cerebrod/cerebrod_clusterlist_genders.c
	(_parse_options), src/cerebrod/cerebrod_clusterlist_gendersllnl.c
	(_parse_options): Removed functions.

	* src/cerebrod/cerebrod_clusterlist.h,
	src/cerebrod/cerebrod_clusterlist.c,
	src/cerebrod/cerebrod_clusterlist_none.c,
	src/cerebrod/cerebrod_clusterlist_hostsfile.c,
	src/cerebrod/cerebrod_clusterlist_genders.c,
	src/cerebrod/cerebrod_clusterlist_gendersllnl.c: Change
	cerebrod_clusterlist_ops to cerebrod_clusterlist_module_ops
	globally.

	* src/cerebrod/cerebrod_clusterlist.h: New
	Cerebrod_clusterlist_parse_options typedef.  Added
	Cerebrod_clusterlist_parse_options into
	cerebrod_clusterlist_module_ops.  New
	cerebrod_clusterlist_module_info definition.  

	* src/cerebrod/cerebrod_clusterlist.c (_load_module): Search and
	load clusterlist_module_info symbol.

	* src/cerebrod/cerebrod_clusterlist.h,
	src/cerebrod/cerebrod_clusterlist.c
	(cerebrod_clusterlist_parse_options): New function.

	* src/cerebrod/cerebrod_clusterlist_none.c
	(none_clusterlist_parse_options),
	src/cerebrod/cerebrod_clusterlist_hostsfile.c
	(hostsfile_clusterlist_parse_options),
	src/cerebrod/cerebrod_clusterlist_genders.c
	(genders_clusterlist_parse_options),
	src/cerebrod/cerebrod_clusterlist_gendersllnl.c
	(gendersllnl_clusterlist_parse_options): New functions.

	* src/cerebrod/cerebrod_config.c
	(_cerebrod_post_calculate_configuration_config_check): Call
	cerebrod_clusterlist_parse_options.

	* src/cerebrod/cerebrod.c (_cerebrod_post_config_initialization):
	Ignore SIGPIPE if we are running any servers.

	* src/cerebrod/cerebrod_clusterlist_util.h,
	src/cerebrod/cerebrod_clusterlist_util.c
	(cerebrod_clusterlist_copy_nodename): New function.
	
	* src/cerebrod/cerebrod_clusterlist_none.c
	(none_clusterlist_get_nodename),
	src/cerebrod/cerebrod_clusterlist_hostsfile.c
	(hostsfile_clusterlist_get_nodename),
	src/cerebrod/cerebrod_clusterlist_genders.c
	(genders_clusterlist_get_nodename): Use
	cerebrod_clusterlist_copy_nodename new.

	* src/cerebrod/cerebrod_clusterlist_genders_util.h,
	src/cerebrod/cerebrod_clusterlist_genders_util.c: New files.

	* src/cerebrod/cerebrod_clusterlist_genders.c,
	src/cerebrod/cerebrod_clusterlist_gendersllnl.c: Rework to use
	common functions in
	src/cerebrod/cerebrod_clusterlist_genders_util.c.

	* src/cerebrod/cerebrod_cache.c (_cerebrod_cache_hostname): No
	truncation needed anymore.

	* src/cerebrod: Globally change MAXHOSTNAMELEN to
	CEREBROD_MAXHOSTNAMELEN.  Don't depend on sys/param.h.

	* src/cerebrod/cerebrod_cache.c (_cerebrod_cache_hostname,
	cerebrod_get_hostname), src/cerebrod/cerebrod_listener.c
	(cerebrod_listener): Re-work so hostname could be
	CEREBROD_MAXHOSTNAMELEN in length exactly.  Null termination not
	required in the packet itself.

	* Begun initial work on config modules.
		
2005-03-16  Albert Chu  <chu11@llnl.gov>

	* src/libcommon/argv.h, src/libcommon/argv.c: Removed files.
	
	* src/libcommon/wrappers.h, src/libcommon/wrappers.c (Argv_create,
	Argv_destroy, wrap_argv_create, wrap_argv_destroy): Removed.

	* src/libcommon/Makefile.am: Updated appropriately.

	* src/cerebrod/cerebrod_config.h: Re-work
	clusterlist_module_cmdline into new clusterlist_module_options
	format.

	* src/cerebrod/cerebrod_config.c (_cb_cmdline): Renamed to
	_cb_module_options.

	* src/cerebrod/cerebrod_config.h, src/cerebrod/cerebrod_config.c:
	Globally renamed clusterlist_module_cmdline to
	clusterlist_module_options.

	* src/cerebrod/cerebrod_clusterlist.h,
	src/cerebrod/cerebrod_clusterlist.c (cerebrod_clusterlist_init):
	Init is now based off a new options format.

	* src/cerebrod/cerebrod_clusterlist_hostsfile.c
	(_cmdline_parse), src/cerebrod/cerebrod_clusterlist_genders.c
	(_cmdline_parse), src/cerebrod/cerebrod_clusterlist_gendersllnl.c
	(_cmdline_parse): Re-worked into new _parse_options function.

	* src/cerebrod/cerebrod_clusterlist_hostsfile.c
	(hostsfile_clusterlist_init),
	src/cerebrod/cerebrod_clusterlist_genders.c
	(genders_clusterlist_init),
	src/cerebrod/cerebrod_clusterlist_gendersllnl.c
	(gendersllnl_clusterlist_init): Re-worked using new options format.

	* src/cerebrod/cerebrod_config.h: Add new clusterlist_module_file
	config calculation.

	* src/cerebrod/cerebrod_clusterlist.c
	(cerebrod_clusterlist_setup): Base on clusterlist_module_file
	config calculation.
	
	* src/cerebrod/cerebrod_config.c (_cerebrod_config_dump): Add
	debug for new clusterlist_module_file config calculation.

	* src/cerebrod/cerebrod_config.c
	(_cerebrod_calculate_clusterlist_module): new function.

	* src/cerebrod/cerebrod_config.c
	(_cerebrod_pre_calculate_configuration_config_check,
	_cerebrod_calculate_configuration): Move clusterlist module checks
	and calculation from
	_cerebrod_pre_calculate_configuration_config_check to
	_cerebrod_calculate_configuration.

	* src/cerebrod/cerebrod_clusterlist.c (_find_clusterlist_module):
	Fix logic bugs and also search current directory for modules.

	* src/cerebrod/cerebrod_clusterlist.c (_search_dir): New function

	* src/cerebrod/cerebrod_clusterlist.c (_find_clusterlist_module):
	Code cleanup.

2005-03-16  Albert Chu  <chu11@llnl.gov>

	* src/cerbrod/cerebrod_util.h, src/cerbrod/cerebrod_util.c: New
	files.

	* src/cerebrod/cerebrod_listener.c, src/cerebrod_updown.c: Re-work
	with new rehashing common functions.

	* src/cerebrod/Makefile.am: Updated with new files.

	* src/cerebrod/cerebrod_listener.c (cerebrod_listener),
	src/cerebrod/cerebrod.c
	(main): Call appropriate updown server functions.

	* src/cerebrod/cerebrod_clusterlist_genders.c
	(genders_clusterlist_node_in_cluster),
	src/cerebrod/cerebrod_clusterlist_gendersllnl.c
	(gendersllnl_clusterlist_node_in_cluster,
	gendersllnl_clusterlist_get_nodename): Fix memory corruption bug.

	* src/libcommon/wrappers.h, src/libcommon/wrappers.c
	(Pthread_cond_wait, Pthread_cond_signal, wrap_pthread_cond_wait,
	wrap_pthread_cond_signal): New macros and functions.

	* src/cerebrod/Makefile.am: Fix dynamic module symbol problems.

	* src/cerebrod/cerebrod_listener.c
	(_cerebrod_listener_initialization),
	src/cerebrod/cerebrod_updown.c (_cerebrod_updown_initialization),
	src/cerebrod/cerebrod.c (main): Fix pthread logic problem with
	condition variables.

	* src/libcommon/wrappers.c (wrap_list_for_each): Fix debug logic
	error.

	* src/libcommon/argv.h, src/libcommon/argv.c (argv_create,
	argv_destroy, _nextargv, _sizeargv): Re-worked not to use
	wrapper functions.

	* src/libcommon/wrappers.h, src/libcommon/wrappers.c (Argv_create,
	Argv_destroy, wrap_argv_create, wrap_argv_destroy): New macros and
	functions.

	* src/cerebrod/cerebrod_clusterlist_hostsfile.c
	(hostsfile_clusterlist_init),
	src/cerebrod/cerebrod_clusterlist_genders.c
	(genders_clusterlist_init),
	src/cerebrod/cerebrod_clusterlist_gendersllnl.c
	(gendersllnl_clusterlist_init): Use new Argv_create and
	Argv_destroy macros.

	* src/cerebrod/cerebrod_clusterlist_hostsfile.c
	(hostsfile_clusterlist_destroy, _cmdline_parse),
	src/cerebrod/cerebrod_clusterlist_genders.c
	(genders_clusterlist_destroy, _cmdline_parse),
	src/cerebrod/cerebrod_clusterlist_gendersllnl.c
	(gendersllnl_clusterlist_destroy, _cmdline_parse): Fix memory
	corruption logic error.

	* src/cerebrod/cerebrod_clusterlist_hostsfile.c
	(_cmdline_parse), src/cerebrod/cerebrod_clusterlist_genders.c
	(_cmdline_parse), src/cerebrod/cerebrod_clusterlist_gendersllnl.c
	(_cmdline_parse): Fix seg fault bug and getopt parsing bug.

	* src/cerebrod/cerebrod_config.c (_cb_cmdline): New function.
	
	* src/cerebrod/cerebrod_config.c (_cerebrod_config_parse): Use new
	_cb_cmdline appropriately.

2005-03-15  Albert Chu  <chu11@llnl.gov>

	Begin support of updown server.

	* src/cerebrod/cerebrod_config.h, src/cerebrod/cerebrod_config.c
	(_cerebrod_config_parse,
	_cerebrod_pre_calculate_configuration_config_check): Add updown
	configuration support.

	* src/cerebrod/cerebrod_updown.h, src/cerebrod/cerebrod_updown.c: New files.

	Misc
	
	* src/libcommon/wrappers.c: Added mountains of additional error
	checks and debug info output.

	* src/cerebrod/cerebrod_listener.c
	(_cerebrod_listener_initialize): Initialize hash base on
	clusterlist numnodes count.

	* etc/Makefile.am, etc/cerebrod: New files.

	* configure.ac: Generate etc/Makefile.

	* Makefile.am: Add etc subdir.

	* src/libcommon/wrappers.h, src/libcommon/wrappers.c (_Free,
	List_count, wrap_list_count): New macros and functions.

	* src/cerebrod/cerebrod_clusterlist_hostsfile.c
	(hostsfile_clusterlist_init, hostsfile_clusterlist_finish): Rework
	using _Free.

	* src/cerebrod/cerebrod_clusterlist_hostsfile.c (_all): Removed function.

	* src/cerebrod/cerebrod_listener.c
	(_cerebrod_listener_initialize, _rehash): Rework using _Free.

	* src/cerebrod/cerbrod_updown.c
	(_cerebrod_listener_dump_cluster_node_data_hash): Remove
	Hash_count use, use cluster_data_hash_numnodes instead.

	* src/cerebrod/cerebrod_config.h, src/cerebrod/cerebrod_config.c
	(_cerebrod_config_parse, _cerebrod_config_default): Added
	additional server debugging configuration flags.

	* src/cerebrod/cerebrod_speaker.c, src/cerebrod/cerebrod_listen.c,
	src/cerebrod_updown.c: Fix debug output based on new configuration
	parameters.

2005-03-14  Albert Chu  <chu11@llnl.gov>

	* src/libcommon/wrappers.h, src/libcommon/wrappers.c (Lt_dlinit,
	Lt_dlexit, wrap_lt_dlinit, wrap_lt_dlexit): New wrappers.

	* src/cerebrod/cerebrod_clusterlist.c (cerebrod_clusterlist_setup,
	cerebrod_clusterlist_cleanup): Use new wrappers.h

	* src/cerebrod/cerebrod_clusterlist_hostsfile.c: Completed work.

	* config/ac_hostsfile.m4: New file.

	* configure.ac: Updated to configure hostsfile default path.

	* src/libcommon/wrappers.h, src/libcommon/wrappers.c
	(List_delete_all, List_for_each, wrap_list_delete_all,
	wrap_list_for_each): New functions.

	* src/cerebrod/cerebrod_clusterlist_none.c: New file.

	* src/cerebrod/Makefile.am: Update with none module.

	* src/cerebrod/cerebrod_listener.c (cerebrod_listener): Add
	clusterlist support.

	* src/cerebrod/cerebrod_clusterlist_none.c: New file.

	* Makefile.am: Updated with new module.
	
2005-03-13  Albert Chu  <chu11@llnl.gov>

	Add initial support for masterlist mechanisms.
	
	* config/libtool.m4, config/ac_genders.m4,
	config/ac_gendersllnl.m4, src/libcommon/argv.h,
	src/libcommon/argv.c, src/libcommon/ltdl.h,
	src/libcommon/ltdl.c,src/cerebrod/cerebrod_clusterlist.h,
	src/cerebrod/cerebrod_clusterlist.c,
	src/cerebrod/cerebrod_clusterlist_genders.c,
	src/cerebrod/cerebrod_clusterlist_gendersllnl.c,
	src/cerebrod/cerebrod_clusterlist_hostsfile.c: New files.

	* src/libcommon/Makefile.am, src/cerebrod/Makefile.am: Updated
	appropriately.

	* src/cerebrod/cerebrod.c (_cerebrod_initialization): Renamed to
	_cerebrod_pre_config_initialization.

	* src/cerebrod/cerebrod.c (_cerebrod_post_config_initialization):
	New function.

	* src/cerebrod/cerebrod.c (main): Added calls to new functions.

	* src/cerebrod/cerebrod_config.h, src/cerebrod/cerebrod_config.c
	(_cerebrod_config_parse): Added support for clusterlist module
	configuration.

	* src/libcommon/wrappers.c (wrap_open, wrap_chdir): Added
	additional debugging info.

	* src/libcommon/wrappers.h, src/libcommon/wrappers.c (List_append,
	List_destroy, List_iterator_create, List_iterator_destroy,
	Hash_remove, Stat, Opendir, Closedir, Lt_dlopen, Lt_dlsym,
	Lt_dlclose, wrap_list_append, wrap_list_destroy,
	wrap_list_iterator_create, wrap_list_iterator_destroy,
	wrap_hash_remove, wrap_stat, wrap_opendir, wrap_closedir,
	wrap_lt_dlopen, wrap_lt_dlsym, wrap_lt_dlclose): New wrappers.
	
2005-02-16  Albert Chu  <chu11@llnl.gov>
	 
	* src/cerebrod/cerebrod_listener.c
	(_cerebrod_listener_create_and_setup_socket): Fix bind error,
	remove unnecessary setsockopt call.

	* src/cerebrod/cerebrod_listener.c (cerebrod_listener): Add
	additional parallelism.

	* src/cerebrod/cerebrod.c (main): Fix listener corner case.
	
2005-02-15  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_listener.c (cerebrod_listener),
	src/cerebrod/cerebrod_speaker.c (_cerebrod_speaker_initialize,
	cerebrod_speaker): Use recvfrom/sendto interface rather than
	read/write interface for sending packets.

	* src/cerebrod/cerebrod_listener.c
	(_cerebrod_listener_dump_cluster_node_data): Fix assert bug. Add
	hash count to output.

	* src/cerebrod/cerebrod_listener.c
	(_cerebrod_listener_dump_cluster_node_data_item): Fix pointer
	error.

	* src/cerebrod/cerebrod_listener.c (cerebrod_listener): Fix hash
	key buffering error.

	* src/libcommon/wrappers.h, src/libcommon/wrappers.c (Hash_count,
	wrap_hash_count): New functions and macros.

	* src/libcommon/wrappers.c (wrap_hash_insert): Add additional
	error check.

2005-02-14  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_config.c
	(_cerebrod_pre_calculate_configuration_config_check): Add
	listen_threads check.

	* src/cerebrod/cerebrod.c (main): Launch listen threads
	appropriately.

	* src/cerebrod/cerebrod_config.c
	(_cerebrod_calculate_configuration): Calculate destination ip
	inaddr in both listener and speaker mode.

	* src/cerebrod/cerebrod_speaker.c
	(_cerebrod_speaker_create_and_setup_socket),
	src/cerebrod/cerebrod_listener.c
	(_cerebrod_listener_create_and_setup_socket): Add memsets to
	ensure correct settings.

	* src/cerebrod/cerebrod_listener.c (cerebrod_listener): Fix buffer
	input error.
	
	* src/cerebrod/cerebrod_config.h, src/cerebrod/cerebrod_config.c,
	src/cerebrod/cerebrod_speaker.c, src/cerebrod_listener.c: Globally
	rename heartbeat_in_addr to heartbeat_network_interface_in_addr.
	Globally rename destination_in_addr to destination_ip_in_addr.
	
2005-02-09  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_listener.h,
	src/cerebrod/cerebrod_listener.c: Completed basic listener
	functionality.  Added rehashing of hash when hash is too large.
	Added cluster_node_data_hash debugging.

	* src/libcommon/wrappers.h, src/libcommon/wrappers.c: Added
	various hashing wrappers.

	* src/cerebrod/cerebrod_config.c: Added additional checks on
	unicast and listener.
	
2005-02-03  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_config.h, src/cerebrod_config.c: Renamed
	speak_ttl to heartbeat_ttl and merged two network interface
	configurations into one.

	* src/cerebrod/cerebrod_speaker.c,
	src/cerebrod/cerebrod_listener.c: Adjust to configuration changes.
	
2005-02-02  Albert Chu  <chu11@llnl.gov>

	* cerebro.spec.in: Fix rpm build problem.
	
2005-02-01  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_config.h, src/cerebrod/cerebrod_config.c:
	Support listen_on_network_interface configuration and
	configuration calculation.  Fix configuration check corner cases.

	* src/cerebrod/cerebrod_listener.c: Continue work on listener.
	
2005-01-31  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_config.h, src/cerebrod/cerebrod_config.c,
	src/cerebrod/cerebrod_speaker.c: Globally renamed speak_to_ip and
	speak_to_port to heartbeat_destination_ip and
	heartbeat_destination_port.  Removed listen_port configuration.
	Globally renamed speak_from_port to heartbeat_source_port.

	* src/cerebrod/cerebrod_config.h, src/cerebrod/cerebrod_config.c:
	Begin listen_on_network_interface configuration option addition.
	
2005-01-23  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_listener.c: Begin work on cerebrod_listener

	* src/cerebrod/wrappers.h, src/cerebrod/wrappers.c (List_create,
	wrap_list_create, Hash_create, wrap_hash_create): New macros and
	functions.

	* src/cerebrod/cerebrod_config.h, src/cerebrod/cerebrod_config.c
	(_cerebrod_config_default, _cerebrod_config_parse),
	src/cerebrod/cerebrod_speaker.c
	(_cerebrod_speaker_create_and_setup_socket): Add and use
	speak_to_port configuration option.
	
2005-01-22  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_speaker.c (cerebrod_speaker): Fix corner
	case for errno survival on writes and sleep_time.  Cleaned up
	code.

	* src/cerebrod/cerebrod_speaker.c
	(_cerebrod_speaker_create_and_setup_socket): Fix errno check
	corner case.

	* src/libcommon/hash.h, src/libcommon/hash.c,
	src/libcommon/list.h, src/libcommon/list.c,
	src/libcommon/thread.h, src/libcommon/thread.c: New files.

	* src/libcommon/Makefile.am: Update for new files.

	* src/cerebrod/cerebrod_listener.h,
	src/cerebrod/cerebrod_listener.c: New files.

	* src/cerebrod/Makefile.am: Update for new files.

2005-01-16  Albert Chu  <chu11@llnl.gov>
	
	* src/cerebrod/cerebrod_config.h, src/cerebrod/cerebrod_config.c
	(_cerebrod_config_default, _cerebrod_config_parse,
	_cerebrod_config_check), src/cerebrod_speaker.c
	(_cerebrod_speaker_create_and_setup_socket): Support ttl
	configuration option.
	
2005-01-15  Albert Chu  <chu11@llnl.gov>

	Add initial pthread support.

	* src/libcommon/wrappers.h, src/libcommon/wrappers.c
	(Pthread_create, Pthread_attr_init, Pthread_attr_destroy,
	Pthread_attr_setdetachstate, Pthread_mutex_lock,
	Pthread_mutex_trylock, Pthread_mutex_unlock, wrap_pthread_create,
	wrap_pthread_attr_init, wrap_pthread_attr_destroy,
	wrap_pthread_attr_setdetachstate, wrap_pthread_mutex_lock,
	wrap_pthread_mutex_trylock, wrap_pthread_mutex_unlock): New macros
	and functions.
	
	* src/cerebrod/cerebrod_daemon.h, src/cerebrod/cerebrod_daemon.c
	(cerebrod_daemon_init): Removed openlog call and progname parameter.

	* src/cerebrod/cerebrod.c (main): Fix error flags and call
	cerebrod_daemon_init to daemonize.  Pthread speaker.

	* src/cerebrod/cerebrod_speaker.h, src/cerebrod/cerebrod_speaker.c
	(cerebrod_speaker): Fix prototype to remove warnings.  Add code to
	survive various error conditions.

	* src/cerebrod/cerebrod_heartbeat.c (cerebrod_heartbeat_marshall):
	Change if statement check to assert.
	
	* src/cerebrod/cerebrod_heartbeat.c (cerebrod_heartbeat_unmarshall):
	Return -1 on errors instead of exitting.

	* src/cerebrod/cerebrod_speaker.c
	(_cerebrod_speaker_send_heartbeat): removed function.

	* src/cerebrod/cerebrod_speaker.c
	(_cerebrod_speaker_create_and_setup_socket): Fixed to aid in
	survival of error conditions.

	* src/cerebrod/cerebrod.c, src/cerebrod/cerebrod_heartbeat.c
	(cerebrod_heartbeat_dump), src/cerebrod/cerebrod_speaker.c
	(_cerebrod_speaker_dump_heartbeat): Added mutex locking for debug
	output.
	
	* configure.ac: Fix pthread building problem.
	
2005-01-09  Albert Chu  <chu11@llnl.gov>

	* src/libcommon/wrappers.h, src/libcommon/wrappers.c (Connect,
	wrap_connect): New macro and function.

	* src/cerebrod/cerebrod_config.h, src/cerebrod/cerebrod_config.c
	(_cerebrod_config_default, _cerebrod_config_parse): Add support
	for listen_port configuration option.

	* src/cerebrod/cerebrod_heartbeat.c (cerebrod_heartbeat_marshall):
	Fixed parameter check error.

	* src/cerebrod/cerebrod.c (main): Call cerebrod_speaker.  Fix some
	error output logic errors on debugging.

	* src/cerebrod/cerebrod_speaker.c
	(_cerebrod_speaker_create_and_setup_socket, cerebrod_speaker):
	Complete initial speaker code.
	
2005-01-05  Albert Chu  <chu11@llnl.gov>

	* cerebro.spec.in, Makefile.am: Fix to get initial rpm build to work.

2005-01-02  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod.h, src/cerebrod/cerebrod_speaker.h,
	src/cerebrod/cerebrod_speaker.c: New files.

	* src/cerebrod/cerebrod_config.c
	(_cerebrod_calculated_heartbeat_frequency_ranged): New function.

	* src/cerebrod/cerebrod_config.h, src/cerebrod/cerebrod_config.c
	(_cerebrod_config_parse, _cb_heartbeat_freq,
	_cerebrod_calculate_configuration): Support fixed frequency and
	ranged frequencies.

	* src/cerebrod/cerebrod_heartbeat.h,
	src/cerebrod/cerebrod_heartbeat.c (cerebrod_heartbeat_construct):
	New function.  Rename struct cerebrod_heartbeat_t to struct
	cerebrod_heartbeat.

	* src/libcommon/wrappers.h, src/libcommon/wrappers.c
	(Bind, wrap_bind): New macros and functions.

2005-01-01  Albert Chu  <chu11@llnl.gov>

	* configure.ac: Updated with threads and lsd defines.

	* config/acx_pthread.m4: New file.

	* src/cerebrod/cerebrod_heartbeat.h: Include new file.
	
	* src/cerebrod/cerebrod_boottime.h,
	src/cerebrod/cerebrod_boottime.c: Renamed to cerebrod_cache.h and
	cerebrod_cache.c.

	* src/cerebrod/cerebrod_cache.h, src/cerebrod/cerebrod_cache.c
	(cerebrod_get_starttime, cerebrod_cache_starttime,
	cerebrod_cache_boottime, cerebrod_cache_hostname,
	cerebrod_get_hostname): New functions.

	* src/cerebrod/cerebrod_heartbeat.h: Add program starttime to
	heartbeat.

	* src/cerebrod/cerebrod_heartbeat.c (cerebrod_heartbeat_marshall,
	cerebrod_heartbeat_unmarshall): Add starttime
	marshalling/unmarshalling.

	* src/cerebrod/cerebrod_config.h, src/cerebrod/cerebrod_config.c
	(cerebrod_config): New function.

	* src/cerebrod/cerebrod_config.h, src/cerebrod/cerebrod_config.c
	(cerebrod_config_default, cerebrod_cmdline_parse,
	cerebrod_config_parse, cerebrod_calculate_configuration): Made
	static and renamed to _cerebrod_config_default,
	_cerebrod_cmdline_parse, _cerebrod_config_parse,
	_cerebrod_calculate_configuration respectively.

	* src/cerebrod_config.c (_cerebrod_config_dump): New function.

	* src/cerebrod/Makefile.am: Update appropriately.
	
	* src/libcommon/wrappers.h, src/libcommon/wrappers.c
	(Gettimeofday, wrap_gettimeofday, Inet_pton, wrap_inet_pton, Time,
	wrap_time): New macros and functions.

2004-12-31  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_config.h, src/cerebrod/cerebrod_config.c:
	Modified to support singlecast as well as multicast configuration.
	Added configuration file checks and singlecast vs. multicast
	configuration detection.

	* src/libcommon/wrappers.c: Added asserts.
	
2004-12-23  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_config.c, src/cerebrod/cerebrod_daemon.c,
	src/cerebrod/cerebrod/heartbeat.c: Added asserts.
	
2004-11-16  Albert Chu  <chu11@llnl.gov>

	* Initial commit.
